<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../sm-ui-core/sm-ui-core.html">
<link rel="import" href="../sm-ui-button/sm-ui-button.html">
<link rel="import" href="../sm-ui-callout/sm-ui-callout.html">

<link rel="import" href="./sm-user-menu-item.html">

<dom-module id="sm-ui-user-menu">
  <template>
    <style include="sm-css-shady"></style>
    <style include="sm-css">
      :host {
        @apply(--typography);
        position: relative;
      }

      .toggle {
        --icon-size: var(--user-menu-toggle-size, 16px);
        width: 100%;
        height: 100%;
      }

      .menu {
        position: absolute;
        z-index: var(--on-top);
      }

      :host([callout*="top"]) .menu {
        top: var(--user-menu-spacing, 35px);
      }

      :host([callout*="bottom"]) .menu {
        bottom: var(--user-menu-spacing, 35px);
      }

      :host([callout*="right"]) .menu {
        right: var(--user-menu-offset, 0);
      }

      :host([callout*="left"]) .menu {
        left: var(--user-men-offset, 0);
      }

      .user {
        display: block;
        background: var(--off-white);
        color: var(--dark-gray);
        font-size: 12px;
        padding: 11px 20px;
        text-align: center;
        cursor: initial;
      }
    </style>

    <button
      is="sm-ui-button"
      id="toggle"
      class="toggle"
      icon="[[_toggleIcon]]"
      on-tap="_handleTap">
    </button>

    <sm-ui-callout arrow="[[callout]]" id="menu" class="menu" active="{{active}}">
      <content select="sm-user-menu-item"></content>
      <span class="user" hidden$="[[!user]]">[[user]]</span>
    </sm-ui-callout>
  </template>

  <script src="./sm-ui-user-menu.js" inline></script>
</dom-module>
